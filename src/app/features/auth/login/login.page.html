<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h2 class="auth-title">Iniciar Sesión</h2>
            <p class="auth-subtitle">Bienvenido de nuevo a tu espacio de trabajo.</p>
        </div>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form" novalidate>
            <div class="form-field" [class.error]="email?.invalid && (email?.touched || email?.dirty)">
                <label for="email">Correo Electrónico</label>
                <div class="input-wrapper">
                    <lucide-icon [img]="MailIcon" size="18" class="input-icon"></lucide-icon>
                    <input id="email" type="email" formControlName="email" placeholder="tu@empresa.com"
                        [class.is-invalid]="email?.invalid && email?.touched">
                </div>
                @if (email?.invalid && (email?.touched || email?.dirty)) {
                <div class="error-message">
                    @if (email?.errors?.['required']) { <span>El correo es obligatorio.</span> }
                    @if (email?.errors?.['email']) { <span>Por favor, introduce un correo válido.</span> }
                </div>
                }
            </div>
            <div class="form-field" [class.error]="password?.invalid && (password?.touched || password?.dirty)">
                <label for="password">Contraseña</label>
                <div class="input-wrapper">
                    <lucide-icon [img]="LockIcon" size="18" class="input-icon"></lucide-icon>
                    <input id="password" type="password" formControlName="password" placeholder="••••••••"
                        [class.is-invalid]="password?.invalid && password?.touched">
                </div>
                @if (password?.invalid && (password?.touched || password?.dirty)) {
                <div class="error-message">
                    @if (password?.errors?.['required']) { <span>La contraseña es obligatoria.</span> }
                </div>
                }
            </div>
            @if (errorMessage()) {
            <div class="error-message global-error">{{ errorMessage() }}</div>
            }
            <button type="submit" [disabled]="isLoggingIn()" class="submit-button">
                @if (isLoggingIn()) {
                <span class="spinner"></span> <span>Procesando...</span>
                } @else {
                <span>Entrar</span>
                }
            </button>
            <div class="auth-footer">
                <a routerLink="/auth/register" class="footer-link">Crear una cuenta nueva</a>
            </div>
        </form>
    </div>
</div>